flowchart TB
    subgraph mmdr["mmdr (Rust) ~ 3ms total"]
        direction LR
        I1[/".mmd file"/] --> P1["Parse"]
        P1 --> IR1[("Graph IR")]
        IR1 --> L1["Layout"]
        L1 --> R1["Render"]
        R1 --> O1[/"SVG"/]
        O1 -.-> RS["resvg"]
        RS -.-> O2[/"PNG"/]
    end

    subgraph cli["mermaid-cli (Node.js) ~ 2500ms total"]
        direction LR
        I2[/".mmd file"/] --> M2["mermaid-js"]
        M2 --> D2["dagre"]
        D2 --> DOM["Browser DOM"]
        DOM --> PP["Puppeteer"]
        PP --> CH{{"Chromium"}}
        CH --> SC["Screenshot"]
        SC --> O3[/"PNG/SVG"/]
    end

    style mmdr fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    style cli fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style CH fill:#ffcdd2,stroke:#c62828
