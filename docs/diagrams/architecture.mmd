flowchart TD
    subgraph mmdr["mmdr (Rust - Native)"]
        A1[".mmd input"] --> B1["parser.rs"]
        B1 --> C1["ir.rs"]
        C1 --> D1["layout.rs + dagre_rust"]
        D1 --> E1["render.rs"]
        E1 --> F1["SVG"]
        F1 -.-> G1["resvg → PNG"]
    end

    subgraph cli["mermaid-cli (Node.js)"]
        A2[".mmd input"] --> B2["mermaid-js + dagre"]
        B2 --> C2["Browser DOM"]
        C2 --> D2["Puppeteer + Chromium"]
        D2 --> E2["Screenshot → PNG/SVG"]
    end

    style mmdr fill:#e7f3e7,stroke:#2e7d32
    style cli fill:#fff8e7,stroke:#f57c00
